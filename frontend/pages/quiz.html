<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¬øFacto o Falso?</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Monda:wght@400..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../styles/quiz.css">
    
    <script src="https://kit.fontawesome.com/1ff5e69ddb.js" crossorigin="anonymous"></script>
</head>
<body>

    <header class="header-flex">
        <div id="header-principal" class="header-flex">
            <a href="./feed.html" style="text-decoration: none; color: inherit;">
                <h1>Almac√©n de <span class="title-span">Factos</span></h1>
            </a>
            
            <a href="./profile.html" class="button-func header-login" aria-label="Perfil">
                <i class="fa-solid fa-user"></i>
            </a>
        </div>
        <div id="header-navbar" class="header-flex"></div>
    </header>

    <div class="container">

        <div id="lobby" class="screen active">
            <h1>¬ø<span class="accent">Facto</span> o <span class="accent">Falso</span>?</h1>
            <p class="subtitle">Porque no todo lo que parece real lo es.</p>

            <div class="modo-selector">
                <button id="btn-jugar" class="boton">üéÆ MODO CL√ÅSICO</button>
                <button id="btn-survival" class="boton boton-survival">üíÄ SUPERVIVENCIA</button>
            </div>
        </div>

        <div id="playing" class="screen">
            <div id="feedback-overlay-container">
                <div class="feedback-content-box">
                    <i id="feedback-big-icon" class="fa-solid fa-check"></i>
                    <h2 id="feedback-big-text">RESULTADO</h2>
                </div>
            </div>

            <div id="progress-indicator" style="text-align: center; margin-bottom: 10px; color: #888; font-family: 'Monda';">
                Pregunta <span id="current-q-num">1</span> de 5
            </div>

            <div id="timer-container">
                <div id="timer-barra">
                    <div id="timer-progreso"></div>
                </div>
                <div id="timer-texto">30</div>
            </div>

            <div class="pregunta-card">
                <p id="pregunta-texto"></p>
                <p id="feedback-flotante" style="display: none;"></p>
            </div>

            <div class="botones-respuesta">
                <button id="btn-verdadero" class="boton-respuesta verdadero">‚úÖ VERDADERO</button>
                <button id="btn-falso" class="boton-respuesta falso">‚ùå FALSO</button>
            </div>
        </div>

        <div id="final-summary" class="screen">
            <h1>Resumen de <span class="accent">Partida</span></h1>

            <div class="score-summary-container">
                <div class="score-box">
                    <p id="label-puntos-partida">Puntos Partida</p>
                    <div id="round-score" class="score-number">0</div>
                </div>

                <div id="survival-points-box" class="score-box" style="display: none;">
                    <p>Puntos Ganados</p>
                    <div id="survival-total-points" class="score-number">+0</div>
                </div>

                <div class="score-box highlight">
                    <p id="label-ranking">Tu Ranking Total</p>
                    <div id="total-ranking-score" class="score-number">...</div>
                </div>
            </div>

            <div id="survival-result-container" style="display: none; margin-bottom: 25px;">
                <h2 class="survival-title">¬°FIN DE LA RACHA!</h2>
                <div class="survival-stats" style="text-align: center; margin: 15px 0;">
                    <p>Lograste <span id="survival-final-streak" class="highlight-val">0</span> respuestas correctas.</p>
                    <div id="new-record-badge" class="badge-record" style="display: none;">
                        ‚ú® ¬°NUEVO R√âCORD PERSONAL! ‚ú®
                    </div>
                </div>
                
                <div class="survival-explanation-box">
                    <p id="survival-explanation" style="font-style: italic; opacity: 0.9;"></p>
                    <p style="margin-top: 10px; font-weight: bold;">
                        La posta era: <span id="survival-correct-val" style="color: var(--naranja-principal);"></span>
                    </p>
                    
                    <div id="survival-source-container" style="margin-top: 20px; display: none; text-align: center;">
                        <a id="survival-source-link" href="#" target="_blank" class="boton-fuente-survival">
                            <i class="fa-solid fa-arrow-up-right-from-square"></i> CHEQUEALO AC√Å
                        </a>
                    </div>
                </div>
            </div>

            <div class="table-responsive">
                <table class="summary-table">
                    <thead>
                        <tr>
                            <th>N¬∫</th>
                            <th>Revisi√≥n</th>
                            <th>La Posta</th>
                            <th>Tu Respuesta</th>
                            <th>Fuente</th>
                            <th>Pts</th>
                        </tr>
                    </thead>
                    <tbody id="summary-body"></tbody>
                </table>
            </div>

            <div class="botones-resultado">
                <button id="btn-reintentar" class="boton">üîÑ JUGAR OTRA VEZ</button>
                <button id="btn-salir-summary" class="boton boton-secundario">üö™ SALIR AL LOBBY</button>
            </div>
        </div>

        <nav id="nav-btns-container">
            <ul class="nav-list">
                <li id="btn-home" class="nav-btn"><a href="./feed.html"><i class="fa-solid fa-house"></i></a></li>
                <li id="btn-quiz" class="nav-btn"><a href="./quiz.html"><i class="fa-solid fa-question"></i></a></li>
                <li id="btn-ranking" class="nav-btn"><a href="./ranking.html"><i class="fa-solid fa-ranking-star"></i></a></li>
            </ul>
        </nav>
    </div>

    <div id="modal-facto" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 style="color: var(--naranja-principal);">Ver Facto</h2>
            <p id="modal-facto-texto" class="modal-text"></p>
            <hr style="border: 0; border-top: 1px solid #444; margin: 10px 0;">
            <p id="modal-facto-explicacion" class="modal-subtext"></p>
        </div>
    </div>

    <script type="module" src="/js/quiz.js"></script>
</body>
</html>